CREATE TABLE AGY_PRISONER_PAY_PROFILES (
        AGY_LOC_ID VARCHAR2(6) NOT NULL,
        AUTO_PAY_FLAG VARCHAR2(1) DEFAULT 'N'  NOT NULL,
        SCHEDULE_START_DATE DATE NULL,
        PAY_FREQUENCY NUMBER(2,0) NULL,
        WEEKLY_ABSENCE_LIMIT NUMBER(2,0) NULL,
        MIN_HALF_DAY_RATE NUMBER(11,3) NULL,
        MAX_HALF_DAY_RATE NUMBER(11,3) NULL,
        MAX_PIECE_WORK_RATE NUMBER(11,3) NULL,
        MAX_BONUS_RATE NUMBER(11,3) NULL,
        BACKDATE_DAYS NUMBER(2,0) NULL,
        DEFAULT_PAY_BAND_CODE VARCHAR2(12) NULL,
        START_DATE DATE NOT NULL,
        END_DATE DATE NULL,
        CREATE_DATETIME TIMESTAMP DEFAULT systimestamp  NOT NULL,
        CREATE_USER_ID VARCHAR2(32) DEFAULT USER  NOT NULL,
        MODIFY_DATETIME TIMESTAMP NULL,
        MODIFY_USER_ID VARCHAR2(32) NULL,
        AUDIT_TIMESTAMP TIMESTAMP NULL,
        AUDIT_USER_ID VARCHAR2(32) NULL,
        AUDIT_MODULE_NAME VARCHAR2(65) NULL,
        AUDIT_CLIENT_USER_ID VARCHAR2(64) NULL,
        AUDIT_CLIENT_IP_ADDRESS VARCHAR2(39) NULL,
        AUDIT_CLIENT_WORKSTATION_NAME VARCHAR2(64) NULL,
        AUDIT_ADDITIONAL_INFO VARCHAR2(256) NULL,
        CONSTRAINT AGY_PRISONER_PAY_PROFILES_PK PRIMARY KEY (AGY_LOC_ID,START_DATE),
        CONSTRAINT AGY_PRISONER_PAY_PROFILES_1 CHECK ("AGY_LOC_ID" IS NOT NULL),
        CONSTRAINT AGY_PRISONER_PAY_PROFILES_2 CHECK ("AUTO_PAY_FLAG" IS NOT NULL),
        CONSTRAINT AGY_PRISONER_PAY_PROFILES_3 CHECK ("START_DATE" IS NOT NULL),
        CONSTRAINT AGY_PRISONER_PAY_PROFILES_4 CHECK ("CREATE_DATETIME" IS NOT NULL),
        CONSTRAINT AGY_PRISONER_PAY_PROFILES_5 CHECK ("CREATE_USER_ID" IS NOT NULL)
);
CREATE UNIQUE INDEX AGY_PRISONER_PAY_PROFILES_PK ON AGY_PRISONER_PAY_PROFILES (AGY_LOC_ID,START_DATE);

ALTER TABLE AGY_PRISONER_PAY_PROFILES ADD CONSTRAINT AGY_PRISONER_PAY_PROFILES_FK1 FOREIGN KEY (AGY_LOC_ID) REFERENCES AGENCY_LOCATIONS(AGY_LOC_ID);